{"version":3,"sources":["components/BarcodeInputField.js","logo.svg","components/DataHandler.js","components/CameraHandler.js","components/routes/Main.js","App.js","index.js"],"names":["withRouter","props","useState","enteredProduct","setEnteredProduct","onSubmit","e","preventDefault","history","push","placeholder","className","required","type","onChange","target","value","DataHandler","localStorage","setItem","getItem","Video","lazy","CameraHandler","isCameraSupported","setCameraSupported","dataHandler","isCameraPermissionGranted","isCameraEnabled","setCameraEnabled","useEffect","navigator","mediaDevices","getUserMedia","fallback","size","onClick","cameraPermissionGranted","role","BarcodeInputField","Main","exact","path","component","App","ReactDOM","render","document","getElementById"],"mappings":"mJAgCeA,iBA5BW,SAACC,GACzB,MAA4CC,mBAAS,MAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KAWA,OACE,uBAAMC,SAVS,SAACC,GAChBA,EAAEC,iBACFN,EAAMO,QAAQC,KAAd,mBAA+BN,KAQ/B,UACE,uBACEO,YAAY,qBACZC,UAAU,YACVC,UAAQ,EACRC,KAAK,SACLC,SAXgB,SAACR,GACrBF,EAAkBE,EAAES,OAAOC,UAYzB,wBAAQL,UAAU,MAAME,KAAK,SAA7B,yB,gICzBS,I,6CCUAI,E,4GATb,WACEC,aAAaC,QAAQ,iBAAkB,U,uCAGzC,WACE,OAAkD,OAA3CD,aAAaE,QAAQ,sB,oBCE1BC,EAAQC,gBAAK,kBAAM,sDAmEVC,EAjEO,WACpB,MAAgDrB,oBAAS,GAAzD,mBAAOsB,EAAP,KAA0BC,EAA1B,KACA,EAA4CvB,mBAC1CwB,EAAYC,6BADd,mBAAOC,EAAP,KAAwBC,EAAxB,KAIAC,qBAAU,WACJC,UAAUC,cAAgBD,UAAUC,aAAaC,cACnDR,GAAmB,KAEpB,IAOH,OACE,qCACGD,GAAqBI,EACpB,cAAC,WAAD,CAAUM,SAAU,6CAApB,SACE,cAACb,EAAD,MAGF,GAEDG,IAAsBI,EACrB,qCACE,sBAAKjB,UAAU,yBAAf,qDAEE,uBACA,qBAAKA,UAAU,6BAAf,SACE,cAAC,IAAD,CAAWwB,KAAM,UAGrB,wBACEtB,KAAK,SACL,aAAW,gBACXF,UAAU,4BACVyB,QA3BW,WACnBV,EAAYW,0BACZR,GAAiB,IAqBX,SAME,cAAC,IAAD,SAIJ,GAEAL,EAYA,GAXA,qBAAKb,UAAU,6BAAf,SACE,gCACE,2EAC6C,IAC3C,sBAAM2B,KAAK,MAAM,aAAW,qBAE9B,gEACA,cAACC,EAAA,EAAD,aCpDGC,EARF,kBACX,sBAAM7B,UAAU,gBAAhB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAO8B,OAAK,EAACC,KAAK,IAAIC,UAAWpB,S,MCKxBqB,MARf,WACE,OACE,qBAAKjC,UAAU,MAAf,SACE,cAAC,EAAD,OCFNkC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8a71e2a0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst BarcodeInputField = (props) => {\r\n  const [enteredProduct, setEnteredProduct] = useState(null);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.history.push(`/product/${enteredProduct}`);\r\n  };\r\n\r\n  const onInputChange = (e) => {\r\n    setEnteredProduct(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <input\r\n        placeholder=\"e.g. 7622300710613\"\r\n        className=\"textInput\"\r\n        required\r\n        type=\"number\"\r\n        onChange={onInputChange}\r\n      />\r\n      <button className=\"btn\" type=\"submit\">\r\n        Find\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default withRouter(BarcodeInputField);\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","class DataHandler {\r\n  static cameraPermissionGranted() {\r\n    localStorage.setItem(\"CAM_PERMISSION\", \"true\");\r\n  }\r\n\r\n  static isCameraPermissionGranted() {\r\n    return localStorage.getItem(\"CAM_PERMISSION\") !== null;\r\n  }\r\n}\r\n\r\nexport default DataHandler;\r\n","import React, { lazy, Suspense, useState, useEffect } from \"react\";\r\n\r\nimport Camera from \"react-feather/dist/icons/camera\";\r\nimport ArrowDown from \"react-feather/dist/icons/arrow-down\";\r\nimport dataHandler from \"./DataHandler\";\r\n\r\nimport BarcodeInputField from \"./BarcodeInputField\";\r\n\r\nconst Video = lazy(() => import(\"./Video\"));\r\n\r\nconst CameraHandler = () => {\r\n  const [isCameraSupported, setCameraSupported] = useState(false);\r\n  const [isCameraEnabled, setCameraEnabled] = useState(\r\n    dataHandler.isCameraPermissionGranted()\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      setCameraSupported(true);\r\n    }\r\n  }, []);\r\n\r\n  const onCamEnabled = () => {\r\n    dataHandler.cameraPermissionGranted();\r\n    setCameraEnabled(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isCameraSupported && isCameraEnabled ? (\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n          <Video />\r\n        </Suspense>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {isCameraSupported && !isCameraEnabled ? (\r\n        <>\r\n          <div className=\"cameraHandler__message\">\r\n            Enable your camera with the button below\r\n            <br />\r\n            <div className=\"cameraHandler__messageIcon\">\r\n              <ArrowDown size={35} />\r\n            </div>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Enable Camera\"\r\n            className=\"btn__round camera__enable\"\r\n            onClick={onCamEnabled}\r\n          >\r\n            <Camera />\r\n          </button>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {!isCameraSupported ? (\r\n        <div className=\"cameraHandler__unsopported\">\r\n          <div>\r\n            <p>\r\n              Your device does not support camera access{\" \"}\r\n              <span role=\"img\" aria-label=\"thinking-face\"></span>\r\n            </p>\r\n            <p>You can enter the barcode below</p>\r\n            <BarcodeInputField />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CameraHandler;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport CameraHandler from \"../CameraHandler\";\r\n\r\nconst Main = () => (\r\n  <main className=\"main__wrapper\">\r\n    <Switch>\r\n      <Route exact path=\"/\" component={CameraHandler} />\r\n    </Switch>\r\n  </main>\r\n);\r\n\r\nexport default Main;\r\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport Main from \"./components/routes/Main\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main></Main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}